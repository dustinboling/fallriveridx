params[:callback]({ "markers": {
<% @markers.each_with_index do |(key, value), i| %>
  "<%= key %>": {
  <% if i == @markers.length - 1 %>
    "LatLng": <%= value["LatLng"].collect {|v| v.to_f } %>,
    "ListPrice": "<%= number_to_currency(value["ListPrice"]) %>",
    "Address": "<%= value["Address"].titleize %>",
    "Bedrooms": "<%= value["Bedrooms"] %>",
    "Baths": "<%= value["Baths"] %>",
    "SQFT": "<%= value["SQFT"] %>"
    }
  <% else %>
    "LatLng": <%= value["LatLng"].collect {|v| v.to_f } %>,
    "ListPrice": "<%= number_to_currency(value["ListPrice"]) %>",
    "Address": "<%= value["Address"].titleize %>",
    "Bedrooms": "<%= value["Bedrooms"] %>",
    "Baths": "<%= value["Baths"] %>",
    "SQFT": "<%= value["SQFT"] %>" 
    },
  <% end %>
<% end %>
} });
